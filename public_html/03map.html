<!DOCTYPE html>
<html>

<head>
    <title>MDX Tour</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="buildings.js"></script>
</head>

<body>
    <!-- START bottom right screens-->
    <div id="map"></div>
    <script>
        var map;
        var mdxPin = 'https://github.com/btmatthew/MDXLocationsWebsite/blob/master/public_html/img/mdx-pin-s.png?raw=true';

        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: collegeBuilding.location,
                zoom: 18,
                disableDefaultUI: true
            });
            var mdxMarker = new google.maps.Marker({
                position: collegeBuilding.location,
                map: map,
                animation: google.maps.Animation.DROP,
                icon: mdxPin
            });
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD7Byec93S-QdsWmaxWQI_m757RbSEmv-M&callback=initMap" async defer></script>
    <!-- END bottom right screens-->
</body>
<script>
    $(window).load(function () {

        window.setTimeout(startMapLoop, waitFor * 1000);

        function startMapLoop() {
            console.log("START startMapLoop")

            var buildingList = [collegeBuilding, hatchcroft, hendonTownHall, theGrove, mdxHouse, theSheppardLibrary, williamsBuilding, usherHall];

            for (var i = 0; i < buildingList.length; i++) {
                (function (latLng, zoom) {
                    setTimeout(function () {
                        map.setCenter(latLng);
                        map.setZoom(zoom)
                        console.log("Map changed!");
                    }, loopingTime);
                })(buildingList[i].location, buildingList[i].zoom);
                loopingTime += loopingTime;
                console.log("loopingTime: " + loopingTime);
            }
            setTimeout(startMapLoop, loopingTime * buildingList.length);
        }
    });
</script>

</html>
